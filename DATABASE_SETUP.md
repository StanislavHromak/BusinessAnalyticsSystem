# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö - EF Code First

## ‚úÖ –í–∏–∫–æ–Ω–∞–Ω–æ:

### 1. –°—Ç–≤–æ—Ä–µ–Ω–æ ORM –∑ EF Code First
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ 4 —Ç–∏–ø—ñ–≤ –ë–î —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é
- Code First –ø—ñ–¥—Ö—ñ–¥ (–º–æ–¥–µ–ª—ñ ‚Üí –±–∞–∑–∞ –¥–∞–Ω–∏—Ö)

### 2. –ú–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö:

#### –î–æ–≤—ñ–¥–Ω–∏–∫–∏ (Reference Tables):
- **Category** - –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó –ø—Ä–æ–¥—É–∫—Ç—ñ–≤
- **Department** - –í—ñ–¥–¥—ñ–ª–∏ –∫–æ–º–ø–∞–Ω—ñ—ó

#### –ü—Ä–æ–º—ñ–∂–Ω–∞ —Ç–∞–±–ª–∏—Ü—è:
- **Product** - –ü—Ä–æ–¥—É–∫—Ç–∏ (–∑–≤'—è–∑–∞–Ω–∞ –∑ Category)

#### –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞ —Ç–∞–±–ª–∏—Ü—è:
- **Sale** - –ü—Ä–æ–¥–∞–∂—ñ (–∑–≤'—è–∑–∞–Ω–∞ –∑ Product —Ç–∞ Department)

### 3. –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ 4 –ë–î:

–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ `appsettings.json`:

```json
{
  "Database": {
    "Provider": "Sqlite",  // –ú–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ –Ω–∞: SqlServer, Postgres, InMemory
    "ConnectionStrings": {
      "SqlServer": "Server=(localdb)\\mssqllocaldb;Database=BusinessAnalyticsDB;...",
      "Postgres": "Host=localhost;Port=5432;Database=BusinessAnalyticsDB;...",
      "Sqlite": "Data Source=analytics.db",
      "InMemory": "BusinessAnalyticsInMemory"
    }
  }
}
```

#### –ó–º—ñ–Ω–∞ –ë–î:
–ü—Ä–æ—Å—Ç–æ –∑–º—ñ–Ω—ñ—Ç—å `"Provider"` –≤ `appsettings.json`:
- `"Sqlite"` - SQLite (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º)
- `"SqlServer"` –∞–±–æ `"Mssql"` - Microsoft SQL Server
- `"Postgres"` –∞–±–æ `"Postgresql"` - PostgreSQL
- `"InMemory"` –∞–±–æ `"Memory"` - In-Memory –±–∞–∑–∞ –¥–∞–Ω–∏—Ö

### 4. –ü–æ—á–∞—Ç–∫–æ–≤—ñ –¥–∞–Ω—ñ (Seed Data):

–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø–æ–≤–Ω—é—é—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–∞–ø—É—Å–∫—É:
- 5 –∫–∞—Ç–µ–≥–æ—Ä—ñ–π
- 5 –≤—ñ–¥–¥—ñ–ª—ñ–≤
- 10 –ø—Ä–æ–¥—É–∫—Ç—ñ–≤
- 50 –ø—Ä–æ–¥–∞–∂—ñ–≤

## üìÑ –°—Ç–≤–æ—Ä–µ–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏:

### –î–æ–≤—ñ–¥–Ω–∏–∫–∏ (2 —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –∫–æ–∂–µ–Ω):

#### –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó:
- `/Category` - –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä—ñ–π
- `/Category/Details/{id}` - –î–µ—Ç–∞–ª—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó

#### –í—ñ–¥–¥—ñ–ª–∏:
- `/Department` - –°–ø–∏—Å–æ–∫ –≤—ñ–¥–¥—ñ–ª—ñ–≤
- `/Department/Details/{id}` - –î–µ—Ç–∞–ª—ñ –≤—ñ–¥–¥—ñ–ª—É

### –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞ —Ç–∞–±–ª–∏—Ü—è (2 —Å—Ç–æ—Ä—ñ–Ω–∫–∏):

#### –ü—Ä–æ–¥–∞–∂—ñ:
- `/Sale` - –°–ø–∏—Å–æ–∫ –ø—Ä–æ–¥–∞–∂—ñ–≤
- `/Sale/Details/{id}` - –î–µ—Ç–∞–ª—ñ –ø—Ä–æ–¥–∞–∂—É

### –ü–æ—à—É–∫:

#### `/Search` - –°—Ç–æ—Ä—ñ–Ω–∫–∞ –ø–æ—à—É–∫—É –∑ –º–æ–∂–ª–∏–≤–æ—Å—Ç—è–º–∏:
- ‚úÖ –ü–æ—à—É–∫ –∑–∞ –¥–∞—Ç–æ—é —Ç–∞ —á–∞—Å–æ–º (StartDate, EndDate)
- ‚úÖ –ü–æ—à—É–∫ –∑–∞ —Å–ø–∏—Å–∫–æ–º –∫–∞—Ç–µ–≥–æ—Ä—ñ–π (SelectedCategoryIds)
- ‚úÖ –ü–æ—à—É–∫ –∑–∞ —Å–ø–∏—Å–∫–æ–º –≤—ñ–¥–¥—ñ–ª—ñ–≤ (SelectedDepartmentIds)
- ‚úÖ –ü–æ—à—É–∫ –∑–∞ –ø–æ—á–∞—Ç–∫–æ–º –∑–Ω–∞—á–µ–Ω–Ω—è (CustomerNameStart, ProductNameStart)
- ‚úÖ –ü–æ—à—É–∫ –∑–∞ –∫—ñ–Ω—Ü–µ–º –∑–Ω–∞—á–µ–Ω–Ω—è (CustomerNameEnd, ProductNameEnd)
- ‚úÖ –í–∏–∫–æ–Ω—É—î 2 JOIN –æ–ø–µ—Ä–∞—Ü—ñ—ó:
  - JOIN Sale ‚Üí Product ‚Üí Category
  - JOIN Sale ‚Üí Department

## üîß –Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:

### 1. –ó–º—ñ–Ω–∞ —Ç–∏–ø—É –ë–î:

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `appsettings.json`:
```json
"Provider": "SqlServer"  // –∞–±–æ Postgres, Sqlite, InMemory
```

### 2. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç—É:

```powershell
cd BusinessAnalyticsSystem
dotnet run
```

–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö —Å—Ç–≤–æ—Ä–∏—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑ –ø–æ—á–∞—Ç–∫–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏.

### 3. –î–æ—Å—Ç—É–ø –¥–æ —Å—Ç–æ—Ä—ñ–Ω–æ–∫:

–ü—ñ—Å–ª—è –≤—Ö–æ–¥—É –≤ —Å–∏—Å—Ç–µ–º—É (admin/Admin@123):
- –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó: http://localhost:5264/Category
- –í—ñ–¥–¥—ñ–ª–∏: http://localhost:5264/Department
- –ü—Ä–æ–¥–∞–∂—ñ: http://localhost:5264/Sale
- –ü–æ—à—É–∫: http://localhost:5264/Search

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö:

```
Categories (–î–æ–≤—ñ–¥–Ω–∏–∫ 1)
    ‚Üì
Products (–ü—Ä–æ–º—ñ–∂–Ω–∞ —Ç–∞–±–ª–∏—Ü—è)
    ‚Üì
Sales (–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞ —Ç–∞–±–ª–∏—Ü—è)
    ‚Üì
Departments (–î–æ–≤—ñ–¥–Ω–∏–∫ 2)
```

## üîç –ü—Ä–∏–∫–ª–∞–¥–∏ –ø–æ—à—É–∫—É:

1. **–ó–∞ –¥–∞—Ç–æ—é:**
   - –í–∫–∞–∂—ñ—Ç—å StartDate —Ç–∞ EndDate
   - –ó–Ω–∞–π–¥–µ –≤—Å—ñ –ø—Ä–æ–¥–∞–∂—ñ –≤ —Ü—å–æ–º—É –ø–µ—Ä—ñ–æ–¥—ñ

2. **–ó–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏:**
   - –í–∏–±–µ—Ä—ñ—Ç—å –æ–¥–Ω—É –∞–±–æ –∫—ñ–ª—å–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ–π
   - –ó–Ω–∞–π–¥–µ –ø—Ä–æ–¥–∞–∂—ñ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ –∑ —Ü–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä—ñ–π

3. **–ó–∞ –ø–æ—á–∞—Ç–∫–æ–º —ñ–º–µ–Ω—ñ:**
   - –í–≤–µ–¥—ñ—Ç—å "–ö–ª—ñ" –≤ CustomerNameStart
   - –ó–Ω–∞–π–¥–µ –≤—Å—ñ—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤, —ñ–º–µ–Ω–∞ —è–∫–∏—Ö –ø–æ—á–∏–Ω–∞—é—Ç—å—Å—è –∑ "–ö–ª—ñ"

4. **–ö–æ–º–±—ñ–Ω–æ–≤–∞–Ω–∏–π –ø–æ—à—É–∫:**
   - –ú–æ–∂–Ω–∞ –∫–æ–º–±—ñ–Ω—É–≤–∞—Ç–∏ –≤—Å—ñ –∫—Ä–∏—Ç–µ—Ä—ñ—ó –æ–¥–Ω–æ—á–∞—Å–Ω–æ

---
*–í—Å—ñ –∑–º—ñ–Ω–∏ –≥–æ—Ç–æ–≤—ñ –¥–æ –∫–æ–º—ñ—Ç—É*

